### Chapter2.演化式架构师

1. 不准确的比较
   + 架构师的一个重要职责是，确保团队有共同的技术愿景，以帮助我们向客户交付他们想要的系统。与其叫自己做“工程师”或“建筑师”，还不如形容软件开发的技术人员叫做架构师。
2. 架构师的演化视角——更像是一位城市规划师
3. 分区
   + 作为架构师，不应该过多关注每个区域内发生的事情，而应该多关注区域之间的事情，考虑不同的服务之间如何交互，或者说保证我们能对整个系统的健康状态进行监控。
4. 一个原则性的方法
   1. 战略目标：架构师不需要定义所谓的战略目标；
   2. 原则：应该把原则和约束放在同一个列表中是有好处的，这样我们可以不时地回顾一下这些约束是否真的不可改变；
   3. 实践：实践的目的是为了巩固原则；
   4. 将原则和实践相结合：对于大型组织中，原则和实践应该相结合；
   5. 真实世界的例子
5. 要求的标准
   1. 监控：监控保持标准化，每个服务内的技术对外不透明。日志系统与监控系统需要集中式管理；
   2. 接口：尽可能选用少数明确的接口技术；
   3. 架构安全性：必须保证每个服务都可以应对下游服务的错误请求；返回码遵守一定的规则：(1).系统成功和业务成功的请求；(2).错误请求，并且服务识别了它是错误的，但什么也没做；(3).被访问的服务宕机了，所以无法判断请求是否正常。
6. 代码治理
   1. 范例：编写文档；来自真实项目的优秀代码范例；
   2. 裁剪服务代码模板：一个技术栈对应一个模板，同时注意代码重用引入的服务之间的耦合，导致系统过度耦合（基于代码重用的目的，越来越多的功能被加到一个中心化的框架中，直至把这个框架变成一个不堪重负的怪兽，如果你决定要使用一个裁剪的服务代码模板，一定想清楚它的职责是什么。理想情况下，应该可以选择是否使用服务代码模板，但是如果你强制团队使用它，一定要确保它能够简化开发人员的工作，而不是使其复杂化；
7. 技术债务
   + 架构师的职责就是从更高的层次出发，理解如何做权衡。理解债务的层次及其对系统的影响非常重要。对于某些组织来说，架构师应该能够提供一些温和的指导，然后让团队自行决定如何偿还这些技术债务。而其他的组织就需要更加结构化的方式，比如维护一个债务列表，并且定期回顾。
8. 例外管理：有时候我们会决定针对某个规则破一次例，然后把它记录下来。如果这样的例外出现了很多次，就可以通过修改原则和实践的方式把我们的理解固化下来。（比如海量存储的场景可以使用kv读写）；
9. 集中治理和领导：由架构师领导这个小组，但是每个交付团队都有人参加，架构师负责确保该组织的正常运作，整个小组都要对治理负责。这样职责得到了分担，并且保证来自高层的支持。保证小组有更合理的决定。同时也要在适合的时候控制好团队，防止团队在错误的道路上越走越远。
10. 建设团队：对于技术领导人来说，更重要的事情是帮助你的队友成长，帮助他们理解这个愿景，并保证他们可以积极地参与到愿景的实现和调整中去。

**伟大的软件来自于伟大的人。所以如果你只担心技术问题，那么恐怕你看到的问题远远不及一半。**

